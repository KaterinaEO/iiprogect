import scrapy

class MangaSpider(scrapy.Spider):
name = "manga"
start_urls = ["https://mangalib.me/ru?section=home-updates-8769570"]

def parse(self, response):
    for manga in response.css(".manga-list-item a::attr(href)").getall():
        yield response.follow(manga, self.parse_manga)

    next_page = response.css(".next-page::attr(href)").get()
    if next_page:
        yield response.follow(next_page, self.parse)

def parse_manga(self, response):
    yield {
        "title": response.css("h1.manga-title::text").get(),
        "author": response.css(".author a::text").get(),
        "genres": response.css(".genres a::text").getall(),
        "rating": response.css(".rating::text").get(),
        "description": response.css(".description::text").get()
    }
Запуск командой в терминале: scrapy runspider manga_spider.py -o manga.json
